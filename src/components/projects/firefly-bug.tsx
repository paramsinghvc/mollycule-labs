'use client';

import { motion, MotionValue } from 'motion/react';
import { useEffect, useState } from 'react';

export const FIREFLY_TRAGECTORY =
  'M0 175.262C30.8333 128.595 130.264 36.9721 268 9.26176C437 -24.7382 668.459 52.7618 771 122.262C861 183.262 863 323.379 771 349.762C703 369.262 596.5 341.762 601.5 212.762C604.811 127.326 771 65.7185 808 52.7618C946.5 4.26168 1134 25.7618 1242 78.7618C1328.4 121.162 1477 222.5 1515.5 251.5C1612.5 324.565 1886.4 385.291 2072 369.5C2304 349.762 2455.5 211.238 2533 132C2595 68.6094 2746 -8 2839.5 19.5';

export default function FireflyBug({
  offsetDistance,
  offsetPath,
}: {
  offsetDistance?: MotionValue<string>;
  offsetPath?: string;
}) {
  const [toggle, setToggle] = useState(false);

  useEffect(() => {
    const timeout = setInterval(() => {
      setToggle((_toggle) => !_toggle);
    }, 200);
    return () => {
      clearInterval(timeout);
    };
  }, []);

  return (
    <motion.div
      style={{
        offsetPath: offsetPath && `path('${offsetPath}')`,
        offsetRotate: 'auto 90deg',
        transformOrigin: 'center',
        offsetDistance,
      }}
      transition={{ ease: 'easeInOut' }}
      className="absolute top-0 left-0 w-full h-full"
    >
      <svg
        className="w-full h-full"
        preserveAspectRatio="xMidYMid meet"
        viewBox="0 0 124 160"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <g clipPath="url(#clip0_14_3)">
          <motion.path
            d="M61.5 160C90.4949 160 114 136.495 114 107.5C114 78.5051 90.4949 55 61.5 55C32.5051 55 9 78.5051 9 107.5C9 136.495 32.5051 160 61.5 160Z"
            fill={toggle ? '#E6DB08' : '#FFF200'}
            fillOpacity={1}
          />
          <path
            d="M87.5 43.5C87.5 29.1406 75.8594 17.5 61.5 17.5C47.1406 17.5 35.5 29.1406 35.5 43.5V89.5C35.5 103.859 47.1406 115.5 61.5 115.5C75.8594 115.5 87.5 103.859 87.5 89.5V43.5Z"
            stroke="white"
            strokeWidth="3"
          />
          <motion.path
            d={
              toggle
                ? 'M50.6209 73.6811L49.3646 74.4199L49.3629 74.4595V74.498L50.6209 73.6811ZM40.6933 49.3895C42.9333 48.5513 44.653 49.4132 45.9731 51.5029C47.2953 53.5957 48.1313 56.8003 48.6455 60.2301C49.1572 63.6442 49.3379 67.1967 49.3894 69.9051C49.4153 71.2566 49.4087 72.3921 49.396 73.1869C49.3895 73.5842 49.3816 73.896 49.3753 74.1068C49.3721 74.2122 49.3694 74.2922 49.3675 74.3451C49.3665 74.3715 49.3658 74.3912 49.3653 74.4037C49.365 74.41 49.3649 74.4145 49.3647 74.4173C49.3647 74.4186 49.3646 74.4195 49.3646 74.4199C49.3646 74.4198 49.3646 74.4202 49.3646 74.4199C49.3646 74.4198 49.3646 74.4199 50.6209 73.6811C51.8774 72.942 51.8774 72.9416 51.8774 72.941C51.8774 72.9407 51.8774 72.9401 51.8774 72.9394C51.8775 72.938 51.8775 72.9362 51.8777 72.9339C51.8779 72.9293 51.8781 72.923 51.8784 72.9148C51.879 72.8986 51.8799 72.8752 51.881 72.8449C51.8832 72.7845 51.8862 72.6966 51.8896 72.5831C51.8964 72.3562 51.9048 72.027 51.9115 71.6116C51.9249 70.7808 51.9315 69.603 51.9049 68.2042C51.8516 65.412 51.6653 61.7151 51.1288 58.1351C50.5944 54.5706 49.7008 51.036 48.1924 48.6483C46.682 46.2573 44.4705 44.8971 41.2591 46.099L40.6933 49.3895ZM49.3629 74.498C49.3629 82.736 47.9125 89.6844 45.792 95.5964C43.6697 101.513 40.8328 106.513 37.9409 110.857L39.4046 112.347C42.4964 107.703 45.6336 102.198 47.9895 95.6302C50.3472 89.0572 51.8789 81.5395 51.8789 72.8641L49.3629 74.498ZM37.9409 110.857C34.603 115.872 30.1726 120.21 25.9442 123.005C21.6888 125.818 17.8736 126.915 15.6353 125.875L13.9173 129.182C16.7996 130.523 21.3482 129.043 25.9685 125.989C30.616 122.917 35.5736 118.103 39.4046 112.347L37.9409 110.857ZM15.6353 125.875C12.0057 124.187 10.9613 119.077 11.774 111.878C12.5885 104.662 15.256 95.5628 18.8048 86.4507C22.3486 77.3514 26.7153 68.3829 30.8343 61.4807C32.8955 58.0268 34.8596 55.1494 36.5959 53.0433C38.3605 50.9028 39.7324 49.7492 40.6933 49.3895L41.2591 46.099C39.4943 46.7595 37.4989 48.6297 35.5208 51.0291C33.5142 53.4631 31.3598 56.6419 29.193 60.2728C24.856 67.5403 20.3284 76.8559 16.668 86.2547C13.0125 95.6407 10.1657 105.253 9.28413 113.063C8.40071 120.889 9.4784 127.118 13.9173 129.182L15.6353 125.875Z'
                : 'M50.1283 72.3352L48.6303 72.2582L48.6283 72.2967V72.3352H50.1283ZM38.291 41.5966C40.9618 42.213 43.0124 44.1917 44.5864 47.1387C46.1629 50.0901 47.1598 53.8377 47.7728 57.6013C48.383 61.3478 48.5984 65.0176 48.6599 67.7595C48.6907 69.1278 48.6829 70.259 48.6677 71.0455C48.66 71.4386 48.6505 71.7453 48.643 71.952C48.6392 72.0553 48.636 72.1336 48.6337 72.1852C48.6326 72.211 48.6317 72.2302 48.6311 72.2424C48.6308 72.2485 48.6306 72.2529 48.6304 72.2556C48.6304 72.2569 48.6303 72.2578 48.6303 72.2582C48.6303 72.2581 48.6303 72.2585 48.6303 72.2582C48.6303 72.2581 48.6303 72.2582 50.1283 72.3352C51.6264 72.4121 51.6264 72.4117 51.6264 72.4111C51.6264 72.4108 51.6265 72.4102 51.6265 72.4095C51.6266 72.4082 51.6266 72.4064 51.6268 72.4042C51.627 72.3997 51.6273 72.3936 51.6277 72.3856C51.6284 72.3698 51.6295 72.347 51.6308 72.3174C51.6334 72.2584 51.637 72.1724 51.641 72.0611C51.6491 71.8386 51.6591 71.5149 51.6671 71.1038C51.6831 70.2817 51.691 69.1082 51.6592 67.6921C51.5957 64.8653 51.3736 61.0475 50.7338 57.119C50.0967 53.2075 49.0312 49.0926 47.2326 45.7253C45.4316 42.3534 42.7948 39.5571 38.9656 38.6735L38.291 41.5966ZM48.6283 72.3352C48.6283 80.5732 46.8989 86.5797 44.3705 91.1146C41.8399 95.6533 38.4573 98.8109 35.0091 101.277L36.7543 103.717C40.4409 101.081 44.1816 97.6138 46.9907 92.5755C49.8019 87.5336 51.6283 81.0106 51.6283 72.3352H48.6283ZM35.0091 101.277C31.0291 104.124 25.7464 105.585 20.7047 105.634C15.6307 105.683 11.0816 104.303 8.41268 101.809L6.36422 104.001C9.8009 107.213 15.2245 108.687 20.7336 108.634C26.2752 108.58 32.1864 106.985 36.7543 103.717L35.0091 101.277ZM8.41268 101.809C4.08492 97.7643 2.83962 91.9759 3.80862 85.3043C4.7798 78.6176 7.96046 71.2507 12.1919 64.4432C16.4174 57.6453 21.6241 51.5125 26.5354 47.2852C28.9931 45.1699 31.335 43.568 33.4053 42.5894C35.5094 41.5949 37.1452 41.3322 38.291 41.5966L38.9656 38.6735C36.8613 38.1879 34.4821 38.7623 32.1234 39.8771C29.7308 41.008 27.162 42.7877 24.5784 45.0115C19.4071 49.4625 14.0086 55.8378 9.64399 62.8595C5.28532 69.8716 1.89095 77.6357 0.839768 84.8731C-0.21359 92.1255 1.07141 99.0541 6.36422 104.001L8.41268 101.809Z'
            }
            fill="white"
          />
          <motion.path
            d={
              toggle
                ? 'M73.8022 73.1809L75.0585 73.9197L75.0602 73.9593V73.9978L73.8022 73.1809ZM83.7299 48.8894C81.49 48.0511 79.7702 48.913 78.45 51.0027C77.1279 53.0955 76.2918 56.3001 75.7778 59.7299C75.266 63.1441 75.0854 66.6966 75.0337 69.4049C75.008 70.7565 75.0144 71.8919 75.0272 72.6867C75.0336 73.0839 75.0416 73.3958 75.048 73.6067C75.0511 73.712 75.0538 73.7921 75.0558 73.8449C75.0567 73.8713 75.0574 73.891 75.0579 73.9035C75.0582 73.9098 75.0584 73.9143 75.0584 73.9171C75.0585 73.9184 75.0585 73.9193 75.0585 73.9197C75.0585 73.9196 75.0586 73.9201 75.0585 73.9197C75.0585 73.9196 75.0585 73.9197 73.8022 73.1809C72.5459 72.4419 72.5459 72.4415 72.5458 72.4408C72.5458 72.4405 72.5458 72.4399 72.5458 72.4392C72.5457 72.4379 72.5456 72.436 72.5455 72.4338C72.5454 72.4292 72.5451 72.4229 72.5448 72.4147C72.5441 72.3984 72.5433 72.3751 72.5422 72.3448C72.54 72.2844 72.537 72.1964 72.5335 72.0829C72.5267 71.856 72.5184 71.5268 72.5116 71.1114C72.4983 70.2806 72.4917 69.1028 72.5184 67.704C72.5715 64.9118 72.7579 61.215 73.2945 57.6349C73.8287 54.0704 74.7224 50.5358 76.2308 48.1481C77.7412 45.7571 79.9527 44.3969 83.1641 45.5989L83.7299 48.8894ZM75.0602 73.9978C75.0602 82.2358 76.5106 89.1842 78.6312 95.0962C80.7534 101.013 83.5903 106.013 86.4823 110.357L85.0186 111.847C81.9267 107.203 78.7895 101.698 76.4336 95.13C74.076 88.5571 72.5442 81.0393 72.5442 72.3639L75.0602 73.9978ZM86.4823 110.357C89.8202 115.372 94.2506 119.71 98.4786 122.505C102.734 125.317 106.549 126.415 108.788 125.374L110.506 128.682C107.624 130.022 103.075 128.543 98.4543 125.489C93.8072 122.417 88.8496 117.603 85.0186 111.847L86.4823 110.357ZM108.788 125.374C112.417 123.687 113.462 118.577 112.649 111.377C111.834 104.162 109.168 95.0629 105.618 85.9504C102.075 76.8514 97.7079 67.8827 93.5889 60.9805C91.5277 57.5266 89.5637 54.6493 87.8273 52.5431C86.0626 50.4026 84.6907 49.249 83.7299 48.8894L83.1641 45.5989C84.9288 46.2593 86.9243 48.1295 88.9025 50.529C90.909 52.9629 93.0634 56.1417 95.2302 59.7727C99.5672 67.0402 104.094 76.3554 107.755 85.7545C111.411 95.1407 114.257 104.753 115.139 112.563C116.023 120.39 114.945 126.618 110.506 128.682L108.788 125.374Z'
                : 'M74.0527 72.3352L75.5507 72.2582L75.5527 72.2967V72.3352H74.0527ZM85.8901 41.5966C83.2193 42.213 81.1687 44.1917 79.5946 47.1387C78.0182 50.0901 77.0212 53.8377 76.4083 57.6013C75.7981 61.3478 75.5827 65.0176 75.5211 67.7595C75.4904 69.1278 75.4981 70.259 75.5134 71.0455C75.521 71.4386 75.5305 71.7453 75.5381 71.952C75.5418 72.0553 75.5451 72.1336 75.5474 72.1852C75.5485 72.211 75.5494 72.2302 75.55 72.2424C75.5503 72.2485 75.5505 72.2529 75.5506 72.2556C75.5507 72.2569 75.5507 72.2578 75.5507 72.2582C75.5507 72.2581 75.5508 72.2585 75.5507 72.2582C75.5507 72.2581 75.5507 72.2582 74.0527 72.3352C72.5547 72.4121 72.5547 72.4117 72.5546 72.4111C72.5546 72.4108 72.5546 72.4102 72.5546 72.4095C72.5545 72.4082 72.5544 72.4064 72.5543 72.4042C72.5541 72.3997 72.5538 72.3936 72.5534 72.3856C72.5526 72.3698 72.5516 72.347 72.5503 72.3174C72.5477 72.2584 72.5441 72.1724 72.54 72.0611C72.5319 71.8386 72.5219 71.5149 72.5139 71.1038C72.498 70.2817 72.4901 69.1082 72.5219 67.6921C72.5853 64.8653 72.8075 61.0475 73.4473 57.119C74.0843 53.2075 75.1499 49.0926 76.9485 45.7253C78.7494 42.3534 81.3863 39.5571 85.2155 38.6735L85.8901 41.5966ZM75.5527 72.3352C75.5527 80.5732 77.2821 86.5797 79.8106 91.1146C82.3411 95.6533 85.7237 98.8109 89.172 101.277L87.4267 103.717C83.7401 101.081 79.9994 97.6138 77.1903 92.5755C74.3792 87.5336 72.5527 81.0106 72.5527 72.3352H75.5527ZM89.172 101.277C93.152 104.124 98.4346 105.585 103.476 105.634C108.55 105.683 113.099 104.303 115.768 101.809L117.817 104.001C114.38 107.213 108.957 108.687 103.447 108.634C97.9059 108.58 91.9947 106.985 87.4267 103.717L89.172 101.277ZM115.768 101.809C120.096 97.7643 121.341 91.9759 120.372 85.3043C119.401 78.6176 116.221 71.2507 111.989 64.4432C107.764 57.6453 102.557 51.5125 97.6456 47.2852C95.1879 45.1699 92.8461 43.568 90.7757 42.5894C88.6716 41.5949 87.0358 41.3322 85.8901 41.5966L85.2155 38.6735C87.3197 38.1879 89.699 38.7623 92.0577 39.8771C94.4502 41.008 97.019 42.7877 99.6027 45.0115C104.774 49.4625 110.172 55.8378 114.537 62.8595C118.896 69.8716 122.29 77.6357 123.341 84.8731C124.395 92.1255 123.11 99.0541 117.817 104.001L115.768 101.809Z'
            }
            fill="white"
          />
          <path
            d="M78.7487 6.18976C78.0039 5.82711 77.6941 4.92932 78.0567 4.18448C78.4193 3.43965 79.3171 3.12982 80.062 3.49247L78.7487 6.18976ZM68.5159 19.7822C68.8306 17.6375 69.1766 13.6207 71.2217 8.97404L73.9675 10.1825C72.1208 14.3785 71.8182 17.9412 71.4841 20.2178L68.5159 19.7822ZM71.2217 8.97404C73.2834 4.28945 75.8705 1.75194 78.2526 0.861413C79.4368 0.418734 80.6677 0.357263 81.6988 0.819026C82.7872 1.30651 83.5 2.32869 83.5 3.57787H80.5C80.5 3.5638 80.5307 3.58302 80.4725 3.55697C80.3569 3.5052 79.9768 3.41964 79.3031 3.67148C77.9696 4.16999 75.8541 5.89592 73.9675 10.1825L71.2217 8.97404ZM83.5 3.57787C83.5 4.46009 83.1241 5.50357 82.199 6.13729C81.1946 6.82535 79.9422 6.77084 78.7487 6.18976L80.062 3.49247C80.3377 3.62672 80.4899 3.6396 80.5362 3.63946C80.5705 3.63936 80.5448 3.63408 80.5036 3.66232C80.4711 3.68457 80.4695 3.70006 80.4792 3.67923C80.4903 3.65556 80.5 3.61723 80.5 3.57787H83.5Z"
            fill="white"
          />
          <path
            d="M44.2513 6.18976C44.9961 5.82711 45.3059 4.92932 44.9433 4.18448C44.5807 3.43965 43.6829 3.12982 42.938 3.49247L44.2513 6.18976ZM54.4841 19.7822C54.1694 17.6375 53.8234 13.6207 51.7783 8.97404L49.0325 10.1825C50.8792 14.3785 51.1818 17.9412 51.5159 20.2178L54.4841 19.7822ZM51.7783 8.97404C49.7166 4.28945 47.1295 1.75194 44.7474 0.861413C43.5632 0.418734 42.3323 0.357263 41.3012 0.819026C40.2128 1.30651 39.5 2.32869 39.5 3.57787H42.5C42.5 3.5638 42.4693 3.58302 42.5275 3.55697C42.6431 3.5052 43.0232 3.41964 43.6969 3.67148C45.0304 4.16999 47.1459 5.89592 49.0325 10.1825L51.7783 8.97404ZM39.5 3.57787C39.5 4.46009 39.8759 5.50357 40.801 6.13729C41.8054 6.82535 43.0578 6.77084 44.2513 6.18976L42.938 3.49247C42.6623 3.62672 42.5101 3.6396 42.4638 3.63946C42.4295 3.63936 42.4552 3.63408 42.4964 3.66232C42.5289 3.68457 42.5305 3.70006 42.5208 3.67923C42.5097 3.65556 42.5 3.61723 42.5 3.57787H39.5Z"
            fill="white"
          />
        </g>
        <defs>
          <clipPath id="clip0_14_3">
            <rect width="124" height="160" fill="white" />
          </clipPath>
        </defs>
      </svg>
    </motion.div>
  );
}
